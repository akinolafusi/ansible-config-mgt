pipeline {
  agent any

  stages {
    stage("scm checkout") {
      steps {
        git branch: 'main', url: 'https://github.com/akinolafusi/ansible-config-mgt.git'
      }
    }

    stage("run ansible playbook") {
      steps {
        ansiblePlaybook colorized: true, credentialsId: 'c62833e5-7d0f-480d-8ae9-dbf7f69008d5', disableHostKeyChecking: true, installation: 'ansible', inventory: 'INVENTORY/dev.yml', playbook: 'common.yml'
      }
    }
  }
}